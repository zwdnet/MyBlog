---
title: 量化投资学习笔记113——股票实盘练习4回测锤子形态
date: 2021-07-14 07:22:50
tags: [量化投资, 实盘, 技术分析]
categories: 量化投资
---
写个python程序回测一下历史数据，看用锤子形态作为买入信号在短线上靠谱吗？
首先下载A股所有股票2020年全年的数据，然后用talib找出锤子线形态的位置。
接下来如何回测呢?先瞎想一个标准:以锤子线当日收盘价为基准，其后十个交易日若股价最高超过基准价的10%，为策略取胜。若股价最低价低于基准价的90%，为策略失败。在二者之间，算平局。
回测结果:
赢率:0.209380 赔率:0.199885 平率:0.590735
即根据锤子线买入，在十个交易日内，有20%的概率赚10%，也有近20%的概率亏10%，跟闭着眼睛瞎猜一样了嘛!
改下条件看看?先把回测时间改成5个交易日:
赢率:0.086562 赔率:0.091070 平率:0.822367
输赢概率是一样的。
改一下涨跌幅度目标，5%吧。
赢率:0.269039 赔率:0.335843 平率:0.395118
赔的概率更大!
结论:用这玩样儿跟瞎猜差不多。
代码 https://github.com/zwdnet/stockpractice/blob/main/kline/backtest.py


在实盘方面，今天跟着大盘，两只都跌了。总市值又亏了。浮亏1.2%。再看两天，找机会卖了吧。
![](https://zymblog-1258069789.cos.ap-chengdu.myqcloud.com/blog0178-QTLearn/83/01.jpg)

接下来再改改程序，回测其它k线形态看看。


**声明:本文为个人学习记录，不构成投资建议!股市有风险，入市需谨慎!**












我发文章的三个地方，欢迎大家在朋友圈等地方分享，欢迎点“在看”。
我的个人博客地址：https://zwdnet.github.io
我的知乎文章地址： https://www.zhihu.com/people/zhao-you-min/posts
我的微信个人订阅号：赵瑜敏的口腔医学学习园地






![](https://zymblog-1258069789.cos.ap-chengdu.myqcloud.com/other/wx.jpg)