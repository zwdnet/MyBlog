---
title: 量化投资学习笔记09——金融理论、投资组合与量化选股
date: 2020-01-15 09:16:15
tags: [量化投资,金融理论、投资组合、量化选股,读书笔记,学习笔记]
categories: 量化投资
---

《量化投资:以python为工具》第三部分笔记

资产收益率是指投入某资产所能获得的收益与初始投资成本的比例。

收益率 = 投资收益/投资成本

投资成本 = 资产单价×资产数量

期间投资收益 = 期末价格-期初价格+其他收益

期间收益率 = (期末价格-期初价格+其他收益)/期初价格

如果考虑交易成本，为期间净收益率。

期间净收益率 = (期末价格-期初价格+其他收益-卖出交易成本)/(期初价格-买入交易成本)

投资者往往根据预期收益率做决策，实际收益率与预期收益率差别往往很大。

单期收益率=(期末价格-期初价格)/期初价格

python里可以用ffn库来计算。

可以用复利概念计算单期和多期简单收益，即把每期收益率相乘。还有加总收益率，是将每期收益率相加。

根据多期收益率计算单期收益率，有算术平均和几何平均两种计算方法，前者没有考虑复利，后者考虑了复利。

年化收益率是把不同周期的收益率都转化为年收益率来计算，方便进行比较。这只是一种理论化的收益率，不是投资者真正能获得的收益率。

持有资产时间为T期，获得(或将要获得)的收益为Rt，一年共有m个单期，则年化收益率为:

年化收益率=(Rt/T)*m或=[(1+Rt)**(1/T)-1]×m

前者为算术平均，后者为几何平均。再直接乘以一年的期数。

也可以按下式计算

年化收益率=(1+Rt)**(1/(T/m))-1

T/m为T期对应的年数，将T时段的收益复利m/T次。

考虑分红配股的收益

除息价=股息登记日的收盘价-每股红利现金额

除权价=股权登记日的收盘价/(1+每股送红股数或转增股数)

除权除息价=(股息登记日的收盘价-每股红利现金额)/(1+每股送红股数或转增股数)

股息率=股息/股票价格

市盈率=每股市价/每股盈利，也叫本益比。其中每股盈利是以过去一年的盈利总数除以总发行已售出的总股数。市盈率越低风险越低，但与行业，国家有关。

风险是指事件发生与否的不确定性。风险可分为市场风险(金融危机，911等)、利率风险(利率变化，降息有利于股价，反之对股价不利)、汇率风险、流动性风险(金融资产变现能力不同带来的风险)、信用风险(违约风险)、通胀风险(对长期投资者影响大)、营运风险(信息不对称或操作事物)。

资产风险的测度

方差:观念简单，但偏离风险本意，收益率不是正态分布，偏差较大。

风险价值:给定置信水平和目标时段下预期的最大损失(或最坏情况下的损失)。估算方法:历史模拟法、协方差矩阵法、蒙特卡洛模拟。

Markowitz模型略。

资本资产定价模型(CAPM)的结论，对任意资产组合q，其收益率Rq满足

E(Rq) = Rf + βqm[E(Rm) - Rf]

其中，βqm=σ(Rq, Rm)/σ²(Rm)，σ(Rq, Rm)为资产组合收益率与市场投资组合收益率之间的协方差。对单个资产也是如此。β反映出系统风险水平。若其绝对值小于1，波动程度小于市场，反之则大于市场。

资本资产定价模型(CAPM)

对于任意资产组合q，其收益率Rq满足

E(Rq) - Rf = βqm(E(Rm) - Rf)

Rm为市场投资组合的收益

βqm为投资组合的β值，意义同前。

E(Rq) - Rf为投资组合比无风险资产高出的收益率。即风险溢酬。

对于单个投资品种，

E(Ri) = Rf + βi(E(Rm) - Rf)

对于个股，

Rit - Rft = αi + βi(Rmt - Rft) + εit

Rit为个股收益率，Rft为无风险收益， Rmt为市场平均收益率。进行线性回归得到α和β的估计值。假设Rit符合正态分布，β可以解释个股过去风险与收益的关系，α应为0或接近0，若显著异于0，则表明个股有异常收益。

创造显著正α收益的方法有:基本面分析，消息面分析，技术面分析，α策略。

CAPM模型将任何一种风险证券的价格分为无风险收益、风险的价格和风险的计算单位三个因素，并将其结合到一起。

问题:模型的假设未必被满足，另外beta值非常不确定，同一股票的不同时期的beta值相差很大，对投资的指导意义不大。

Fama-French三因子模型

影响股票收益率的其它因素。市场风险溢酬因子、市值因子和账面市值比因子。三个因子均为投资组合的收益率:市场风险溢酬因子为市场投资组合的收益率，市值因子对应的是做多小市值公司做空大市值公司的投资组合的收益率，账面市值比因子对应做多高B/M(收益率与股票账面市值比)比公司，做空低B/M比公司投资组合收益率。

具体实现就略了。

本章代码:[https://github.com/zwdnet/MyQuant/tree/master/09](https://github.com/zwdnet/MyQuant/tree/master/09)



我发文章的四个地方，欢迎大家在朋友圈等地方分享，欢迎点“在看”。
我的个人博客地址：https://zwdnet.github.io
我的博客园博客地址： https://www.cnblogs.com/zwdnet/
我的知乎文章地址： https://www.zhihu.com/people/zhao-you-min/posts
我的微信个人订阅号：赵瑜敏的口腔医学学习园地

![](https://zymblog-1258069789.cos.ap-chengdu.myqcloud.com/other/wx.jpg)